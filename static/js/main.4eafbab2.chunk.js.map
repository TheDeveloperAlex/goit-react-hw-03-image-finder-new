{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/Button/Button.jsx","utils/Api.js","Components/Modal/Modal.jsx","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","name","onHandleChange","e","value","target","toLowerCase","setState","onHandleSubmit","preventDefault","trim","props","onSubmit","document","getElementById","toast","error","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","id","Component","Button","click","page","window","scrollTo","top","documentElement","scrollHeight","behavior","onClick","getImagesApi","query","fetch","then","res","json","hits","Modal","imgs","imgModal","loading","getImage","find","item","toString","handleEscape","code","closeModal","onOverlayClick","currentTarget","addEventListener","querySelector","style","overflow","largeImageURL","removeEventListener","Overlay","color","height","width","timeout","src","alt","img","ImageGalleryItem","isModalOpen","onModalOpen","prev","setImagePath","images","map","webformatURL","tag","ImageGalleryItemImage","ImageGallery","isTarget","getImages","finally","onHandelClick","prevProps","prevState","div","divLoader","length","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.4eafbab2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"ImageGallery_div__hhRG4\",\"divLoader\":\"ImageGallery_divLoader__2ojvv\",\"ImageGallery\":\"ImageGallery_ImageGallery__16S32\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__15tK6\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__3n7cX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__16KJD\",\"Modal\":\"Modal_Modal__1FLnp\",\"img\":\"Modal_img__2bMOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2cYaL\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2N_f7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2gZp2\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    const value = e.target.value.toLowerCase();\r\n    this.setState({ name: value });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.name.trim() === \"\") {\r\n      toast.error(\"Error, please enter text \");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    document.getElementById(\"input\").value = \"\";\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            onChange={this.onHandleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            id=\"input\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ click, page }) => {\r\n  page !== 2 && window.scrollTo({\r\n  top: document.documentElement.scrollHeight,\r\n  behavior: 'smooth',\r\n});\r\n    return (\r\n        <button type=\"button\" onClick={click} className={s.Button}>Load More</button>\r\n    );\r\n}\r\n\r\nexport default Button;","const KEY = \"22768638-b34a0dc747ee3cff056840f2a\";\r\n\r\nexport const getImagesApi = ({ query, page }) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => res.hits)\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport s from './Modal.module.css';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nclass Modal extends Component {\r\n    state = {\r\n        imgs: [],\r\n        id: '',\r\n        imgModal: '',\r\n        loading: false,\r\n    }\r\n\r\n     getImage = () => {\r\n        \r\n        \r\n        return this.props.imgs.find(item => (\r\n            item.id.toString() === this.props.id.toString()\r\n        ))\r\n            \r\n            \r\n            \r\n       \r\n        }\r\n\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleEscape);\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"hidden\";\r\n    \r\n\r\n        this.setState({ imgModal: this.getImage().largeImageURL });\r\n\r\n    }       \r\n            \r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleEscape);\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"auto\";\r\n    }\r\n\r\n    handleEscape = (e) => e.code === \"Escape\" && this.props.closeModal();\r\n\r\n    onOverlayClick = ({ target, currentTarget }) => {\r\n        target === currentTarget &&\r\n            this.props.closeModal();\r\n    };\r\n\r\n    render() {\r\n        const { imgs, imgModal, id, loading } = this.state;\r\n        \r\n\r\n        \r\n\r\n        return (\r\n            <>\r\n                <div className={s.Overlay} onClick={this.onOverlayClick}>\r\n                    <div className={s.Modal} id=\"Modal\">\r\n                        {loading && <Loader\r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          /> }\r\n                        <img src={this.state.imgModal} alt=\"\" className={s.img} />\r\n                    </div>\r\n                </div>\r\n            </>    \r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import s from './ImageGalleryItem.module.css';\r\nimport React, { Component } from 'react'\r\nimport Modal from \"../../Modal/Modal\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n    state = {\r\n        isModalOpen: false,\r\n        id: '',\r\n\r\n    }\r\n\r\n    onModalOpen = (e) => {\r\n    \r\n        this.setState({ id: e.target.id });\r\n    this.setState((prev) => ({\r\n    \r\n      isModalOpen: true,\r\n        \r\n    }));\r\n    \r\n    };\r\n\r\n        closeModal = () => this.setState({ isModalOpen: false, setImagePath: \"\" });\r\n    \r\n    render() {\r\n        const { id } = this.state;\r\n        \r\n        return (\r\n           <>\r\n            {\r\n              this.props.images.map((item) => (\r\n                <li className={s.ImageGalleryItem} key={item.id}>\r\n              <img\r\n                onClick={this.onModalOpen}\r\n                          src={item.webformatURL}\r\n                          id={item.id}\r\n                    alt={item.tag }\r\n                className={s.ImageGalleryItemImage}\r\n                          \r\n                      />\r\n                      \r\n                  </li>\r\n                   \r\n              ))\r\n                    \r\n            } \r\n            {this.state.isModalOpen && <Modal closeModal={this.closeModal} id={id} imgs={this.props.images} /> }\r\n        </> \r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport { getImagesApi } from \"../../utils/Api\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    imgs: [],\r\n    page: 1,\r\n    isTarget: false,\r\n    loading: false,\r\n  };\r\n\r\n  getImages = ({ query, page }) => {\r\n    this.setState({ loading: true });\r\n    \r\n    getImagesApi({ query, page })\r\n      .then((images) =>\r\n        this.setState((prev) => ({\r\n          imgs: [...prev.imgs, ...images],\r\n        }))\r\n      )\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.props;\r\n\r\n    if (prevProps.query !== query) {\r\n      this.getImages({ query: query, page: 1 });\r\n      this.setState({ page: 2, imgs: [] });\r\n    }\r\n    if (this.state.isTarget) {\r\n      this.setState((prev) => ({\r\n        page: prev.page + 1,\r\n      }));\r\n      this.getImages({ query: this.props.query, page: this.state.page });\r\n      this.setState({ isTarget: false });\r\n    }\r\n  }\r\n\r\n  onHandelClick = () => {\r\n    this.setState({ isTarget: true });\r\n  };\r\n\r\n  render() {\r\n    const { imgs, loading } = this.state;\r\n    return (\r\n      <>\r\n        \r\n        <div className={s.div}>\r\n          <ul className={s.ImageGallery}>\r\n            <ImageGalleryItem images={imgs} />\r\n          </ul>\r\n          <div className={s.divLoader}>\r\n              {loading && (\r\n            <Loader\r\n              type=\"Circles\"\r\n              color=\"#00BFFF\"\r\n              height={150}\r\n              width={150}\r\n              timeout={3000} //3 secs\r\n            />\r\n          )}\r\n          </div>\r\n          \r\n          {imgs.length > 0 && (\r\n            <Button click={this.onHandelClick} page={this.state.page} />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  onSubmit = (query) => {\r\n    this.setState({ name: query });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onSubmit} />\r\n        <ToastContainer />\r\n        <ImageGallery query={this.state.name} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Luv6\",\"SearchForm\":\"Searchbar_SearchForm__3QS_K\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1u05Y\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__U08Q3\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Rq6S\"};"],"sourceRoot":""}