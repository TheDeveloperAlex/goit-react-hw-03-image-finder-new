{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/Button/Button.jsx","utils/Api.js","Components/Modal/Modal.jsx","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","name","onHandleChange","e","value","target","toLowerCase","setState","onHandleSubmit","preventDefault","trim","props","onSubmit","document","getElementById","toast","error","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","id","Component","Button","click","page","window","scrollTo","top","documentElement","scrollHeight","behavior","onClick","getImagesApi","query","fetch","then","res","json","hits","console","log","Modal","imgs","imgModal","loading","getImage","find","item","toString","handleEscape","code","closeModal","onOverlayClick","currentTarget","addEventListener","querySelector","style","overflow","largeImageURL","removeEventListener","Overlay","color","height","width","timeout","src","alt","img","ImageGalleryItem","isModalOpen","onModalOpen","prev","setImagePath","images","map","webformatURL","ImageGalleryItemImage","ImageGallery","isTarget","getImages","finally","onHandelClick","prevProps","prevState","div","length","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.b63ccf2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__16KJD\",\"Modal\":\"Modal_Modal__1FLnp\",\"img\":\"Modal_img__2bMOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"ImageGallery_div__hhRG4\",\"ImageGallery\":\"ImageGallery_ImageGallery__16S32\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__15tK6\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__3n7cX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2cYaL\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2N_f7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2gZp2\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    const value = e.target.value.toLowerCase();\r\n    this.setState({ name: value });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.name.trim() === \"\") {\r\n      toast.error(\"Error, please enter text \");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    document.getElementById(\"input\").value = \"\";\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            onChange={this.onHandleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            id=\"input\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ click, page }) => {\r\n  page !== 2 && window.scrollTo({\r\n  top: document.documentElement.scrollHeight,\r\n  behavior: 'smooth',\r\n});\r\n    return (\r\n        <button type=\"button\" onClick={click} className={s.Button}>Load More</button>\r\n    );\r\n}\r\n\r\nexport default Button;","const KEY = \"22768638-b34a0dc747ee3cff056840f2a\";\r\n\r\nexport const getImagesApi = ({ query, page }) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((res) => res.hits)\r\n    .then((res) => {\r\n      console.log(res);\r\n      return res;\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport s from './Modal.module.css';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nclass Modal extends Component {\r\n    state = {\r\n        imgs: [],\r\n        id: '',\r\n        imgModal: '',\r\n        loading: false,\r\n    }\r\n\r\n     getImage = () => {\r\n        // this.setState({ loading: true });\r\n        \r\n        return this.props.imgs.find(item => (\r\n            item.id.toString() === this.props.id.toString()\r\n        ))\r\n            \r\n            //  this.setState({ loading: false })\r\n            \r\n       \r\n        }\r\n\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleEscape);\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"hidden\";\r\n        \r\n        console.log(this.getImage().largeImageURL);\r\n\r\n        this.setState({ imgModal: this.getImage().largeImageURL });\r\n\r\n    }       \r\n            \r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleEscape);\r\n        const body = document.querySelector(\"body\");\r\n        body.style.overflow = \"auto\";\r\n    }\r\n\r\n    handleEscape = (e) => e.code === \"Escape\" && this.props.closeModal();\r\n\r\n    onOverlayClick = ({ target, currentTarget }) => {\r\n        target === currentTarget &&\r\n            this.props.closeModal();\r\n    };\r\n\r\n    render() {\r\n        const { imgs, imgModal, id, loading } = this.state;\r\n        \r\n\r\n        \r\n\r\n        return (\r\n            <>\r\n                <div className={s.Overlay} onClick={this.onOverlayClick}>\r\n                    <div className={s.Modal} id=\"Modal\">\r\n                        {loading && <Loader\r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          /> }\r\n                        <img src={this.state.imgModal} alt=\"\" className={s.img} />\r\n                    </div>\r\n                </div>\r\n            </>    \r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import s from './ImageGalleryItem.module.css';\r\nimport React, { Component } from 'react'\r\nimport Modal from \"../../Modal/Modal\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n    state = {\r\n        isModalOpen: false,\r\n        id: '',\r\n\r\n    }\r\n\r\n    onModalOpen = (e) => {\r\n    console.log(e.target);\r\n    \r\n        this.setState({ id: e.target.id });\r\n    this.setState((prev) => ({\r\n    \r\n      isModalOpen: true,\r\n        \r\n    }));\r\n    \r\n    };\r\n\r\n        closeModal = () => this.setState({ isModalOpen: false, setImagePath: \"\" });\r\n    \r\n    render() {\r\n        const { id } = this.state;\r\n        \r\n        return (\r\n           <>\r\n            {\r\n              this.props.images.map((item) => (\r\n            <li className={s.ImageGalleryItem}>\r\n              <img\r\n                onClick={this.onModalOpen}\r\n                          src={item.webformatURL}\r\n                          id={item.id}\r\n                alt=\"\"\r\n                className={s.ImageGalleryItemImage}\r\n                          \r\n                      />\r\n                      {/* {console.log(item.largeImageURL) } */}\r\n                      \r\n                  </li>\r\n                   \r\n              ))\r\n                    \r\n            } \r\n            {this.state.isModalOpen && <Modal closeModal={this.closeModal} id={id} imgs={this.props.images} /> }\r\n        </> \r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport { getImagesApi } from \"../../utils/Api\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n// import st from \"../Modal/Modal.modal.css\";\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    imgs: [],\r\n    page: 1,\r\n    isTarget: false,\r\n    loading: false,\r\n  };\r\n\r\n  getImages = ({ query, page }) => {\r\n    this.setState({ loading: true });\r\n    getImagesApi({ query, page })\r\n      .then((images) =>\r\n        this.setState((prev) => ({\r\n          imgs: [...prev.imgs, ...images],\r\n        }))\r\n      )\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.props;\r\n\r\n    if (prevProps.query !== query) {\r\n      this.getImages({ query: query });\r\n      this.setState({ page: 2, imgs: [] });\r\n    }\r\n    if (this.state.isTarget) {\r\n      this.setState((prev) => ({\r\n        page: prev.page + 1,\r\n      }));\r\n      this.getImages({ query: this.props.query, page: this.state.page });\r\n      this.setState({ isTarget: false });\r\n    }\r\n  }\r\n\r\n  onHandelClick = () => {\r\n    this.setState({ isTarget: true });\r\n  };\r\n\r\n  render() {\r\n    const { imgs, loading } = this.state;\r\n    return (\r\n      <>\r\n        {loading && (\r\n          <Loader\r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          />\r\n        )}\r\n        <div className={s.div}>\r\n          <ul className={s.ImageGallery}>\r\n            <ImageGalleryItem images={imgs} />\r\n          </ul>\r\n\r\n          {imgs.length > 0 && (\r\n            <Button click={this.onHandelClick} page={this.state.page} />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react'\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        name: '',\r\n    }\r\n    \r\n    onSubmit = (query) => {\r\n        this.setState({ name: query })\r\n        console.log(query);\r\n        \r\n         console.log(this.state.name);\r\n     }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Searchbar onSubmit={this.onSubmit} />\r\n                <ToastContainer />\r\n                <ImageGallery query={this.state.name} />\r\n                \r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Luv6\",\"SearchForm\":\"Searchbar_SearchForm__3QS_K\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1u05Y\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__U08Q3\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Rq6S\"};"],"sourceRoot":""}